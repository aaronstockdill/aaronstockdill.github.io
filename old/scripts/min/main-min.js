var switch_email=function(t){return"mailto:"+t.replace("mailto:","").reverse()};$(function(){var t=100,o=function(t){"#"===t[0]&&(t=t.slice(1));var o=$("#link-for-"+t);o.hasClass("active")||o.addClass("active")},e=function(t){"#"===t[0]&&(t=t.slice(1));var o=$("#link-for-"+t);o.hasClass("active")&&o.removeClass("active")};$.fn.visible=function(){var t=$(window),o=t.scrollTop(),e=o+t.height(),i=this.offset().top,r=i+this.height();return r>=o&&e>=r?(r-o)/t.height():i>=o&&e>=i?(e-i)/t.height():o>=i&&r>=e?1:0},$("a[href*=#]:not([href=#])").click(function(){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname){var t=$(this.hash);if(t=t.length?t:$("[name="+this.hash.slice(1)+"]"),t.length)return history.pushState(void 0,"Aaron Stockdill",this.hash),$("html,body").animate({scrollTop:t.offset().top},300),$("nav").removeClass("showing"),!1}}),$(".menubutton").on("click",function(){$("nav").toggleClass("showing")}),$(window).bind("popstate",function(){o(window.location.hash)}),$(window).on("scroll",function(){var i=$("section").toArray();i.push($("#Home")[0]),i.sort(function(t,o){return $(t).visible()-$(o).visible()});var r=i.length,a=0;if($(window).scrollTop()<t&&"index"===$("body").attr("id")){for(a=0;r>a;a++)e(i[a].id);return o("Home"),!1}var n=Math.floor($("main")[0].offsetWidth/$("section").outerWidth(!0));for(1>n&&(n=1),a=0;r>a;a++){var s=$(i.pop()),l=s.attr("id");s.attr("id",""),n>a?o(l):e(l),0===a&&location.replace("#"+l),s.attr("id",l)}return!1}),String.prototype.rotate=function(t){var o="";this.toLowerCase();for(var e=0;e<this.length;e++){var i=this.charCodeAt(e);i-=97,i+=t,i%=26,i+=97,o+=String.fromCharCode(i)}return o},String.prototype.reverse=function(){return this.split("").reverse().join("")};var i=function(){var t="@",o=".",e="nnebafgbpxqvyy",i=e.rotate(13)+t+"me"+o+"com";i=i.reverse();var r='<a href="mailto:'+i+' " class="borked-email">'+i+"</a>";$("#email-holder").html(r),$(".borked-email").on("mouseover",function(t){t.target.href=switch_email(t.target.href)}),$(".borked-email").on("mouseout",function(t){t.target.href=switch_email(t.target.href)})};$(document).ready(function(){setTimeout(function(){if("index"===$("body").attr("id")&&window.location.hash)o(window.location.hash);else if("index"===$("body").attr("id"))return location.replace("#Home"),!1},50),void 0===document.body.style.webkitBackdropFilter&&void 0===document.body.style.mozBackdropFilter&&void 0===document.body.style.backdropFilter&&$("nav").addClass("nofilter"),i()})});