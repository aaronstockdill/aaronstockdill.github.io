"use strict";
// @codekit-append "preferences.coffee", "email.coffee", "mobilemenu.coffee"
var clear_cookie_message,cookies_ok,deleteCookie,formatEmailLink,getCookie,getEmail,hamburger,navbox,setCookie,setupEmail,switchEmail,switch_theme,indexOf=[].indexOf;setCookie=function e(t,o,r){var i,n;return n=r?((i=new Date).setTime(i.getTime()+24*r*60*60*1e3),"; expires="+i.toGMTString()):"",document.cookie=t+"="+o+n+"; path=/"},getCookie=function e(t){var o,r,i,n;for(n=t+"=",r=document.cookie.split(";"),i=0;i<r.length;){for(o=r[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(n))return o.substring(n.length,o.length);i++}return null},deleteCookie=function e(t){return setCookie(t,"",-1)},// Allow the ability to switch themes.
switch_theme=function e(t){var o=0<arguments.length&&void 0!==t?t:"white";return document.querySelector("#theme").setAttribute("href","/css/".concat(o,".css")),document.querySelectorAll(".theme-button").forEach(function(e){return e.classList.remove("active")}),document.querySelector("#".concat(o,"-button")).classList.add("active"),deleteCookie("style"),cookies_ok()&&setCookie("style",o,365),!1},// Cookie warning stuff...
clear_cookie_message=function e(){return setCookie("cookiesOK","yes",365),document.querySelector("#cookies").style.display="none",document.querySelector("footer").style.paddingBottom="0px"},(cookies_ok=function e(){return"yes"===getCookie("cookiesOK")})()?(document.querySelector("#cookies").style.display="none",switch_theme(getCookie("style")||"white")):(document.querySelector("#cookies").style.display="block",document.querySelector("footer").style.paddingBottom="120px"),String.prototype.rotate=function(e){var t,o,r,i,n,s;for(n="",this.toLowerCase(),o=0,r=(i=this).length;o<r;o++)(t=i[o]).match(/[a-z]/)?(s=(t.charCodeAt(0)-97+e)%26+97,n+=String.fromCharCode(s)):n+=t;return n},String.prototype.reverse=function(){return this.split("").reverse().join("")},switchEmail=function e(t){return"mailto:"+t.replace("mailto:","").reverse()},getEmail=function e(t,o){return t.rotate(13)+"@"+o},formatEmailLink=function e(t){return'<a href="mailto:'+t+' " class="borked-email email">'+t+"</a>"},(setupEmail=function e(){var t,o,r,i,n,s,a,c,l,u,m;for(a=0,l=(n=document.querySelectorAll(".email-holder")).length;a<l;a++)s=(i=n[a]).dataset.beforeAt,t=i.dataset.afterAt,i.innerHTML=formatEmailLink(getEmail(s,t).reverse());for(m=[],c=0,u=(r=document.querySelectorAll(".borked-email")).length;c<u;c++)(o=r[c]).addEventListener("mouseover",function(e){return e.target.href=switchEmail(e.target.href)}),m.push(o.addEventListener("mouseout",function(e){return e.target.href=switchEmail(e.target.href)}));return m})(),hamburger=document.getElementById("menu-hamburger"),navbox=document.getElementsByClassName("nav-holder")[0],hamburger.addEventListener("click",function(e){return 0<=indexOf.call(hamburger.classList,"showing")?(hamburger.classList.remove("showing"),navbox.classList.remove("showing")):(hamburger.classList.add("showing"),navbox.classList.add("showing"))});
//# sourceMappingURL=script.js.map